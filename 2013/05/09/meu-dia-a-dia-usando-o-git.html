<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- social -->
  <meta property="twitter:site" content="http://localhost:4000/2013/05/09/meu-dia-a-dia-usando-o-git.html" />
  <meta property="og:url" content="http://localhost:4000/2013/05/09/meu-dia-a-dia-usando-o-git.html" />

  <meta property="og:type" content="article" />
  <meta name="twitter:card" content="summary" />

  <!-- title -->
  <title>Meu dia a dia usando o GIT</title>
  <meta property="og:title" content="Meu dia a dia usando o GIT" />
  <meta name="twitter:title" content="Meu dia a dia usando o GIT" />
  <meta property="og:site_name" content="Alexandre Mulatinho">

  <meta name='author' content='Alexandre Mulatinho' />
  <meta name='keywords' content='blog, mulatinho, open source, software livre, linux, solutions, tech' />

  <meta name="description" content="A blog about an brazilian software developer and systems manager who talks about technology, personal life, linux, open source, systems and app development">
  <meta property="og:description" content="A blog about an brazilian software developer and systems manager who talks about technology, personal life, linux, open source, systems and app development">
  <meta name="twitter:description" content="A blog about an brazilian software developer and systems manager who talks about technology, personal life, linux, open source, systems and app development" />

  
    <meta property="og:image" content="https://mulatinho.files.wordpress.com/2017/07/img_20170322_140523390.jpg">
    <meta property="twitter:image" content="https://mulatinho.files.wordpress.com/2017/07/img_20170322_140523390.jpg">
  

  <meta name="twitter:creator" content="@alexmulatinho" />

  <meta name="description" content="O GIT é um controlador de versão criado por Linus Torvalds, na minha opinião um dos maiores ‘integradores’ de código do mundo, afinal ele tee que fazer merge...">
  <meta http-equiv="refresh" content="300" />

  <link rel="stylesheet" href="/assets/main.css">

  <link rel="canonical" href="https://mulatinho.net/">
  <link rel="alternate" type="application/rss+xml" title="Alexandre Mulatinho" href="/feed.xml">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:700|Montserrat|Abel|Muli|Acme" rel="stylesheet" />


  
</head>


  <body>

    <header class="site-header" role="banner">

  <br/>
  <br/>

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Alexandre Mulatinho</a>

    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
            <a class="page-link" href="/blog/">Blog</a>
            
          
            
            
            <a class="page-link" href="/docs/">Best of Articles</a>
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Meu dia a dia usando o GIT</h1>
    <p class="post-meta">
      <time datetime="2013-05-09T00:00:00-03:00" itemprop="datePublished">
        
        Thu, May 9, 2013
      </time>
      </p>
  </header>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- mulato-blog -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5138819533079914"
     data-ad-slot="8675679252"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

  <br />
  <br />

  <div class="post-content" itemprop="articleBody">
    <p>O GIT é um controlador de versão criado por Linus Torvalds, na minha opinião um dos maiores ‘integradores’ de código do mundo, afinal ele tee que fazer merge de milhões de linhas de código durante vários anos, então rapaziada o GIT é fera mesmo. Depois de anos usando o Subversion como alternativa ao CVS me rendi a simplicidade e facilidade de uso do git por uma série de razões, então abaixo mostro o meu dia a dia usando o GIT em várias situações diferentes afim de mostrar para vocês como é fácil de resolver seus problemas de versionamento.</p>

<p>Clona (faz checkout ou baixa) um repositório remoto para a máquina local:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git clone https://github.com/mulatinho/sfm.git
</code></pre></div></div>

<p>Verifica e informa as mudanças feitas no diretório local:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git status
</code></pre></div></div>

<p>Atualiza repositório local com as modificações do repositório original:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git pull
</code></pre></div></div>

<p>Mostra todas as diferenças feitas no arquivo “libsmb.c”:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git diff libsmb.c
</code></pre></div></div>

<p>Faz commit (atualiza arquivo no repositório) com uma mensagem, entre aspas, do arquivo “libsmb.c”:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git commit -m 'Adicionando funcao principal para DEBUG enquanto biblioteca nao esta pronta' libsmb.c
</code></pre></div></div>

<p>Envia suas modificações ao repositório remoto (por padrão “origin” no Git):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git push origin master
</code></pre></div></div>

<p>Lista branchs criadas:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git branch
</code></pre></div></div>

<p>Cria branch “cpp-list” com base na branch “fix2”:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git checkout -b cpp-list fix2
</code></pre></div></div>

<p>Lista todas as tags do repositório:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git tag -l
</code></pre></div></div>

<p>Baixa a tag “v3.8.8” do repositório e cria um arquivo “../linux-3.8.8” com seu conteúdo localmente:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git archive --format=tar --prefix=linux-3.8.8/ -o ../linux-3.8.8.tar v3.8.8
</code></pre></div></div>

<p>Faz merge do branch “fix2” na linha base raiz</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git checkout master
$ git merge fix2
</code></pre></div></div>

<p>Gostou!? Que tal vermos um exemplo prático? Primeiro vamos baixar um repositório, no caso o repositório aqui vai ser o do SFM que estamos desenvolvendo para exemplificar o uso de C e a biblioteca GTK:$ cd $HOME/repo/github</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git clone https://github.com/mulatinho/sfm.git
Cloning into 'sfm'...
remote: Counting objects: 74, done.
remote: Compressing objects: 100% (58/58), done.
remote: Total 74 (delta 35), reused 51 (delta 14)
Unpacking objects: 100% (74/74), done.
$ cd sfm &amp;&amp; ls -lh
total 72K
-rw-r--r-- 1 mulatinho mulatinho 2.4K May  9 16:48 ChangeLog
-rw-r--r-- 1 mulatinho mulatinho  397 May  9 16:48 INSTALL
-rw-r--r-- 1 mulatinho mulatinho  753 May  9 16:48 LICENSE
-rw-r--r-- 1 mulatinho mulatinho  945 May  9 16:48 Makefile
-rw-r--r-- 1 mulatinho mulatinho  296 May  9 16:48 README.md
-rw-r--r-- 1 mulatinho mulatinho  319 May  9 16:48 TODO
-rw-r--r-- 1 mulatinho mulatinho 5.9K May  9 16:48 action.c
-rw-r--r-- 1 mulatinho mulatinho 3.6K May  9 16:48 libsmb.c
-rw-r--r-- 1 mulatinho mulatinho 4.3K May  9 16:48 main-list.c
-rw-r--r-- 1 mulatinho mulatinho 4.3K May  9 16:48 main.c
-rw-r--r-- 1 mulatinho mulatinho 3.2K May  9 16:48 main.h
drwxr-xr-x 2 mulatinho mulatinho 4.0K May  9 16:48 picz/
-rw-r--r-- 1 mulatinho mulatinho 1.5K May  9 16:48 strkey.c
-rw-r--r-- 1 mulatinho mulatinho 5.8K May  9 16:48 util.c
</code></pre></div></div>

<p>Pronto! Note que o que eu fiz acima foi uma clonagem (uma cópia do estado mais atual) do repositório criado no GitHub. Agora vamos modificar algumas linhas de código e pedir ao git para mostrar o que foi modificado.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.... algumas edições nos códigos ...
$ git status
# On branch master
# Changes not staged for commit:
#   (use "git add ..." to update what will be committed)
#   (use "git checkout -- ..." to discard changes in working directory)
#
#	modified:   libsmb.c
#	modified:   util.c
#
# Untracked files:
#   (use "git add ..." to include in what will be committed)
#
#	libsmb
no changes added to commit (use "git add" and/or "git commit -a")
</code></pre></div></div>

<p>Hummm! Atente para a mensagem, o GIT está te informando que existem três mudanças: os arquivos ‘libsmb.c’, ‘util.c’ foram modificados e o arquivo ‘libsmb’ não está sendo versionado. Vamos ver o que mudou no arquivo ‘libsmb.c’:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="err">$</span> <span class="n">git</span> <span class="n">diff</span> <span class="n">libsmb</span><span class="p">.</span><span class="n">c</span>
    <span class="n">diff</span> <span class="o">--</span><span class="n">git</span> <span class="n">a</span><span class="o">/</span><span class="n">libsmb</span><span class="p">.</span><span class="n">c</span> <span class="n">b</span><span class="o">/</span><span class="n">libsmb</span><span class="p">.</span><span class="n">c</span>
    <span class="n">index</span> <span class="n">c9a3662</span><span class="p">..</span><span class="n">bc93ede</span> <span class="mi">100644</span>
    <span class="o">---</span> <span class="n">a</span><span class="o">/</span><span class="n">libsmb</span><span class="p">.</span><span class="n">c</span>
    <span class="o">+++</span> <span class="n">b</span><span class="o">/</span><span class="n">libsmb</span><span class="p">.</span><span class="n">c</span>
    <span class="err">@@</span> <span class="o">-</span><span class="mi">140</span><span class="p">,</span><span class="mi">3</span> <span class="o">+</span><span class="mi">140</span><span class="p">,</span><span class="mi">18</span> <span class="err">@@</span> <span class="kt">int</span> <span class="n">sfm_smb_exec</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">line</span><span class="p">)</span>

            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
     <span class="p">}</span>
    <span class="o">+</span>
    <span class="o">+</span><span class="err">#</span><span class="n">ifdef</span> <span class="n">DEBUG</span>
    <span class="o">+</span><span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">+</span>       <span class="n">sfm_smb_exec</span><span class="p">(</span><span class="s">"list smb://"</span><span class="p">);</span>
    <span class="o">+</span>       <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="s">"nn"</span><span class="p">);</span>
    <span class="o">+</span>       <span class="n">sfm_smb_exec</span><span class="p">(</span><span class="s">"list smb://MULATINHO"</span><span class="p">);</span>
    <span class="o">+</span>       <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="s">"nn"</span><span class="p">);</span>
    <span class="o">+</span>       <span class="n">sfm_smb_exec</span><span class="p">(</span><span class="s">"list smb://FORREST"</span><span class="p">);</span>
    <span class="o">+</span>       <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="s">"nn"</span><span class="p">);</span>
    <span class="o">+</span>       <span class="n">sfm_smb_exec</span><span class="p">(</span><span class="s">"list smb://FORREST/multimedia"</span><span class="p">);</span>
    <span class="o">+</span>       <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="s">"nn"</span><span class="p">);</span>
    <span class="o">+</span>       <span class="n">sfm_smb_exec</span><span class="p">(</span><span class="s">"recv smb://FORREST/multimedia/psig-ted.2012.dvdrip.xvid.ac3.srt"</span><span class="p">);</span>
    <span class="o">+</span>       <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="o">+</span><span class="p">}</span>
    <span class="o">+</span><span class="err">#</span><span class="n">endif</span>
</code></pre></div></div>

<p>Notemos que só as linhas que começam com ‘-‘ e ‘+’ significam respectivamente uma remoção ou modificação numa linha, podemos ver aí então que a função principal da biblioteca foi adicionado ao código (afim de testar a biblioteca enquanto não está completamente pronta).</p>

<p>Certo!! E se quisermos fazer um commit (enviar as modificações para o repositório) das nossas alterações para todo mundo do repositório vêr?</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git commit -m 'Adicionando funcao principal para DEBUG enquanto biblioteca nao esta pronta' libsmb.c
[master c577a9c] Adicionando funcao principal para DEBUG enquanto biblioteca nao esta pronta
 1 file changed, 15 insertions(+)
</code></pre></div></div>

<p>Note que o GIT está dizendo a você que o seu arquivo foi modificado no seu repositório local (o master acima), você precisa ainda dizer que o que estiver no seu repositório deve ir para o repositório remoto.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git push origin master
Counting objects: 5, done.
Delta compression using up to 8 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 528 bytes, done.
Total 3 (delta 2), reused 0 (delta 0)
To git@github.com:mulatinho/sfm.git
   3fb2123..c577a9c  master -&gt; master
</code></pre></div></div>

<p>A sintaxe do push é simples, o primeiro argumento após o comando push é a origem (por padrão o GIT utiliza a palavra ‘origin’ como sendo o repositório clonado) e a segunda opção o branch que você quer enviar (no nosso caso o ‘master’ mas poderia ser qualquer outro).</p>

<p>O GIT é roots porque é muito dinâmico, você não tem mais aqueles conceitos de seguir um único baseline, você pode seguir vários! Veja como listar branchs é fácil:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git branch
* master
  v0.0.5
</code></pre></div></div>

<p>Vêmos que estamos trabalhando aí com duas branches diferente, um desenvolvedor colocou sua branch com o nome ‘v0.0.5’, E como faz para podermos criar uma nossa?</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git branch cpp-list # cria branch 'cpp-list'
$ git branch
* master
  v0.0.5
  cpp-list
</code></pre></div></div>

<p>Difícil para caramba né? Mas vêmos que o ‘*’ (asterisco) está na branch master, isso significa que ainda estamos trabalhando no nosso repositório principal e quando fazermos modificações elas vão estar no master, então como mudamos para outro repositório?</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git checkout cpp-list
Switched to branch 'cpp-list'
</code></pre></div></div>

<p>Muito difícil né? Agora vamos terminando por aqui mostrando só mais algumas coisas legais que podem ser feitas utilizando o GIT, eu por exemplo gosto de acompanhar o desenvolvimento do GCC (GNU C Compiler), então vamos vêr se existe alguma atualização no repositório e copia-la para a nossa máquina local</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd $HOME/repo/gcc
$ git pull
From git://gcc.gnu.org/git/gcc
   43bf72f..b6de2ea  master     -&gt; origin/master
   43bf72f..b6de2ea  trunk      -&gt; origin/trunk
Updating 43bf72f..b6de2ea
Fast-forward
 gcc/cp/ChangeLog                                   | 20 +++++
 gcc/cp/call.c                                      |  9 ++-
 gcc/cp/cp-tree.h                                   |  1 +
 gcc/cp/decl.c                                      |  1 +
 gcc/cp/error.c                                     | 28 ++++---
 gcc/cp/except.c                                    | 11 +++
 gcc/cp/init.c                                      | 46 +++++++++--
 gcc/cp/parser.c                                    |  3 -
 gcc/cp/semantics.c                                 |  2 -
 gcc/testsuite/g++.dg/cpp0x/bad_array_new1.C        | 20 +++++
 gcc/testsuite/g++.dg/cpp0x/bad_array_new2.C        | 21 ++++++
 gcc/testsuite/g++.dg/cpp0x/initlist21.C            |  1 -
 gcc/testsuite/g++.dg/ext/vla4.C                    |  2 +-
 gcc/testsuite/g++.dg/init/new40.C                  |  2 +
 gcc/testsuite/g++.dg/parse/ref-qual1.C             | 29 +++++++
 libstdc++-v3/ChangeLog                             | 20 +++++
 .../config/abi/pre/gnu-versioned-namespace.ver     |  3 +
 libstdc++-v3/config/abi/pre/gnu.ver                |  4 +                                                   
 libstdc++-v3/include/bits/atomic_base.h            | 88 +++++++++++-----------
 libstdc++-v3/libsupc++/Makefile.in                 | 14 +++-
 libstdc++-v3/libsupc++/bad_array_new.cc            | 36 +++++++++
 libstdc++-v3/libsupc++/cxxabi.h                    |  3 +
 libstdc++-v3/libsupc++/eh_aux_runtime.cc           |  4 +
 libstdc++-v3/libsupc++/new                         | 15 ++++
 24 files changed, 315 insertions(+), 68 deletions(-)
 create mode 100644 gcc/testsuite/g++.dg/cpp0x/bad_array_new1.C
 create mode 100644 gcc/testsuite/g++.dg/cpp0x/bad_array_new2.C
 create mode 100644 gcc/testsuite/g++.dg/parse/ref-qual1.C
 create mode 100644 libstdc++-v3/libsupc++/bad_array_new.cc
</code></pre></div></div>

<p>Alguns arquivos foram modificados e baixados para o nosso computador local! E se quisessemos listar as tags de um repositório linux afim de baixar versões!?</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cd $HOME/repo/linux-stable
$ git tag -l
..........
v3.8.7
v3.8.8
v3.8.9
v3.9
v3.9-rc1
v3.9-rc2
v3.9-rc3
v3.9-rc4
v3.9-rc5
v3.9-rc6
v3.9-rc7
v3.9-rc8
v3.9.1
</code></pre></div></div>

<p>Ainda omiti bastante coisa pois senão ficaria extenso! Veja aí que todas as baselines da versão estável do Linux estão aí, agora o pulo do gato, e tem como baixar uma versão de uma tag dessa em específico? Com certeza! Veja abaixo:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git archive --format=tar --prefix=linux-3.8.8/ -o ../linux-3.8.8.tar v3.8.8
$ cd .. &amp;&amp; ls -l linux*tar
-rw-r--r--  1 mulatinho mulatinho 505743360 May  9 17:19 linux-3.8.8.tar
</code></pre></div></div>

<p>É isso rapaziada! O GIT é fera!!!</p>

  </div>

  
    
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://localhost:4000/2013/05/09/meu-dia-a-dia-usando-o-git.html';
      this.page.identifier = 'http://localhost:4000/2013/05/09/meu-dia-a-dia-usando-o-git.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://mulatinho.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


  
</article>

      </div>
    </main>

    <br />
<footer class="site-footer">

  <div class="wrapper">

      <p>A blog about an brazilian software developer and systems manager who talks about technology, personal life, linux, open source, systems and app development</p>

      <br/>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- mulato-blog -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5138819533079914"
     data-ad-slot="8675679252"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


  </div>

</footer>


  </body>

</html>
