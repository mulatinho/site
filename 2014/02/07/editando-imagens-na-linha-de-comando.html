<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- social -->
  <meta property="twitter:site" content="http://alex.mulatinho.net/2014/02/07/editando-imagens-na-linha-de-comando.html" />
  <meta property="og:url" content="http://alex.mulatinho.net/2014/02/07/editando-imagens-na-linha-de-comando.html" />

  <meta property="og:type" content="article" />
  <meta name="twitter:card" content="summary" />

  <!-- title -->
  <title>Editando imagens na linha de comando</title>
  <meta property="og:title" content="Editando imagens na linha de comando" />
  <meta name="twitter:title" content="Editando imagens na linha de comando" />
  <meta property="og:site_name" content="Alexandre Mulatinho&#39;s Weblog">

  <meta name='author' content='Alexandre Mulatinho' />
  <meta name='keywords' content='blog, mulatinho, open source, software livre, linux, solutions, tech' />

  <meta name="description" content="A blog about a brazilian guy who talks about technology, personal life, linux, open source, systems and app development">
  <meta property="og:description" content="A blog about a brazilian guy who talks about technology, personal life, linux, open source, systems and app development">
  <meta name="twitter:description" content="A blog about a brazilian guy who talks about technology, personal life, linux, open source, systems and app development" />

  
    <meta property="og:image" content="https://mulatinho.files.wordpress.com/2017/07/img_20170322_140523390.jpg">
    <meta property="twitter:image" content="https://mulatinho.files.wordpress.com/2017/07/img_20170322_140523390.jpg">
  

  <meta name="twitter:creator" content="@alexmulatinho" />

  <meta name="description" content="Então galera, vez ou outra seja por alguma documentação ou outra coisa eu preciso manipular uma série de imagens, é complicado você abrir o GIMP uma por uma ...">
  <meta http-equiv="refresh" content="300" />

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://alex.mulatinho.net/">
  <link rel="alternate" type="application/rss+xml" title="Alexandre Mulatinho&#39;s Weblog" href="/feed.xml">

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-107281743-1', 'auto');
  ga('send', 'pageview');

</script>
  

  
</head>


  <body>

    <header class="site-header" role="banner">

  <br/>
  <br/>

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Alexandre Mulatinho&#39;s Weblog</a>

    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
            <a class="page-link" href="/blog/">Blog</a>
            
          
            
            
            <a class="page-link" href="/docs/">Docs</a>
            
          
            
            
          
            
            
            <a class="page-link" href="/softwares/">Softwares</a>
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Editando imagens na linha de comando</h1>
    <p class="post-meta">
      <time datetime="2014-02-07T00:00:00-03:00" itemprop="datePublished">
        
        Feb 7, 2014
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Então galera, vez ou outra seja por alguma documentação ou outra coisa eu preciso manipular uma série de imagens, é complicado você abrir o GIMP uma por uma e fazer o que você quer, para evitar esse trabalho todo eu costumo usar um comando do pacote ImageMagick chamado ‘convert’. O convert é um canivete suíço na manipulação de imagens via linha de comando, aqui eu vou mostrar apenas algumas operações como: redimensionar, recortar e converter imagens.</p>

<p>Então vamos fazer um caso de uso básico, suponha que você tenha 50 imagens e precise editar cada uma delas, você vai fazer via console com dois ou três comandos ou editar um a um os cinquenta arquivos!? Eu tenho mais o que fazer, então vamos lá!</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mulatinho@forrest:~$ ls
gtkfingerprint-01.png gtkfingerprint-10.png gtkfingerprint-19.png gtkfingerprint-28.png gtkfingerprint-37.png gtkfingerprint-46.png
gtkfingerprint-02.png gtkfingerprint-11.png gtkfingerprint-20.png gtkfingerprint-29.png gtkfingerprint-38.png gtkfingerprint-47.png
gtkfingerprint-03.png gtkfingerprint-12.png gtkfingerprint-21.png gtkfingerprint-30.png gtkfingerprint-39.png gtkfingerprint-48.png
gtkfingerprint-04.png gtkfingerprint-13.png gtkfingerprint-22.png gtkfingerprint-31.png gtkfingerprint-40.png gtkfingerprint-49.png
gtkfingerprint-05.png gtkfingerprint-14.png gtkfingerprint-23.png gtkfingerprint-32.png gtkfingerprint-41.png gtkfingerprint-50.png
gtkfingerprint-07.png gtkfingerprint-16.png gtkfingerprint-25.png gtkfingerprint-34.png gtkfingerprint-43.png
gtkfingerprint-08.png gtkfingerprint-17.png gtkfingerprint-26.png gtkfingerprint-35.png gtkfingerprint-44.png
gtkfingerprint-09.png gtkfingerprint-18.png gtkfingerprint-27.png gtkfingerprint-36.png gtkfingerprint-45.png
</code></pre></div></div>

<h4 id="lição-1-recortando-imagens">Lição 1: Recortando imagens</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mulatinho@forrest:~$ convert gtkfingerprint-01.png -crop 800x600+150x300 gtkfingerprint-01_cut.png
(recorte básico da imagem pegando apenas o quadro que desejamos.)

mulatinho@forrest:~$ for i in `ls gtkfingerprint-*png`; do
convert $i -crop 800x600+150x300 `echo $i | sed -e 's/.png/_cut.png/'`; done
(recortando todas as imagens na mesma posição e do mesmo tamanho com um pouquinho de shellscript)
</code></pre></div></div>

<p>Abaixo podemos ver o resultado da saída de todas as imagens recortadas.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mulatinho@forrest:~$ ls *cut*png
gtkfingerprint-01_cut.png gtkfingerprint-11_cut.png gtkfingerprint-21_cut.png gtkfingerprint-31_cut.png gtkfingerprint-41_cut.png
gtkfingerprint-02_cut.png gtkfingerprint-12_cut.png gtkfingerprint-22_cut.png gtkfingerprint-32_cut.png gtkfingerprint-42_cut.png
.... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... .... ....
gtkfingerprint-10_cut.png gtkfingerprint-20_cut.png gtkfingerprint-30_cut.png gtkfingerprint-40_cut.png gtkfingerprint-50_cut.png
</code></pre></div></div>

<h4 id="lição-2-redimensionando-imagens">Lição 2: Redimensionando imagens</h4>

<p>Muitas vezes também precisamos redimensionar imagens, neste caso eu precisei de imagens com 75% do tamanho (que eu criei com sufixo ‘_med.png’) para colocar dentro de umas tabelas num documento LaTeX afim de descrever o funcionamento da ferramenta e também precisei de thumbnail’s com cerca de 50% do tamanho original (que eu criei com o sufixo ‘_min.png’) das imagens para mostrar em um website. Ficou assim:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mulatinho@forrest:~$ convert gtkfingerprint-01_cut.png -resize 75% gtkfingerprint-01_med.png
(redimensionando apenas uma imagem em torno de 75%)

mulatinho@forrest:~$ for i in `ls *cut.png`; do
convert $i -resize 75% `echo $i | sed -e 's/_cut.png/_med.png/'`; done
(novamente fazendo o mesmo com todas as imagens, redimensionando-as com apenas um comando)

mulatinho@forrest:~$ for i in `ls *cut.png`; do
convert $i -resize 50% `echo $i | sed -e 's/_cut.png/_min.png/'`; done
(e redimensionando todas as imagens com 50% do tamanho adicionando o sufixo 'min')
</code></pre></div></div>

<p>As vezes temos situações em que uma imagem está numa qualidade muito grande, isso acontece com as fotos dos celulares mais modernos hoje em dia, e aí fica difícil da gente enviar pros nosso amigos e familiares um álbum cheio de imagens imensas por e-mail ou numa rede social, para facilitar isso a gente geralmente reduz a qualidade da imagem ou até mesmo a redimensiona como vimos acima.</p>

<h4 id="lição-3-convertendo-imagens">Lição 3: Convertendo imagens</h4>

<p>Existem vezes em que simplesmente desejamos converter um formato de imagem, isso também é muito fácil de fazer com o convert que suporta vários formatos como: JPEG, GIF, PNG, BMP, etc. Vejamos alguns exemplos de conversão de imagens:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mulatinho@forrest:~$ convert gtkfingerprint-01_cut.png gtkfingerprint-01_cut.bmp
(converte a imagem para o formato BMP, pior compressão, windows suqz)
mulatinho@forrest:~$ convert gtkfingerprint-01_cut.png gtkfingerprint-01_cut.gif
(converte a imagem para o formato GIF, ótima compressão)
mulatinho@forrest:~$ convert gtkfingerprint-01_cut.png gtkfingerprint-01_cut.jpg
(converte a imagem para o formato JPG, compressão legal)
mulatinho@forrest:~$ ls -l gtkfingerprint-01_cut.*
-rw-r--r-- 1 mulatinho mulatinho 673338 Feb  7 21:49 gtkfingerprint-01_cut.bmp
-rw-r--r-- 1 mulatinho mulatinho  25005 Feb  7 21:46 gtkfingerprint-01_cut.gif
-rw-r--r-- 1 mulatinho mulatinho  42447 Feb  7 21:50 gtkfingerprint-01_cut.jpg
-rw-r--r-- 1 mulatinho mulatinho  30433 Feb  7 21:19 gtkfingerprint-01_cut.png
mulatinho@forrest:~$ file -bi gtkfingerprint-01_cut.*
application/octet-stream; charset=binary
image/gif; charset=binary
image/jpeg; charset=binary
image/png; charset=binary
</code></pre></div></div>

<h4 id="links-com-alguns-extras">Links com alguns extras.</h4>

<ul>
  <li><a href="http://www.imagemagick.org/Usage/photos/">http://www.imagemagick.org/Usage/photos/</a></li>
  <li><a href="http://www.imagemagick.org/script/convert.php#usage">http://www.imagemagick.org/script/convert.php#usage</a></li>
</ul>

<p>Bom, essa é a dica do mulato da semana rapaziada! Espero que aproveitem! ;)</p>

  </div>

  
    
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://alex.mulatinho.net/2014/02/07/editando-imagens-na-linha-de-comando.html';
      this.page.identifier = 'http://alex.mulatinho.net/2014/02/07/editando-imagens-na-linha-de-comando.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://mulatinho.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


  
</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

      <p>A blog about a brazilian guy who talks about technology, personal life, linux, open source, systems and app development</p>

      <br/>
      <br/>

      <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- mulato-blog -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-5138819533079914"
     data-ad-slot="8675679252"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

      
    </div>

  </div>

</footer>


  </body>

</html>
